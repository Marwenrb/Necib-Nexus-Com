@import 'styles/_functions';

.wrapper {
  .inner {
    overflow: hidden;
    display: flex;

    .overflow {
      display: flex;

      > * {
        flex-shrink: 0;
      }
    }

    @include mobile {
      width: mobile-vw(375px);
    }

    @include desktop {
      position: sticky;
      --height: #{desktop-vw(440px)};
      top: calc((100vh - var(--height)) / 2);
    }

    @include mobile {
      .cards {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        perspective: 1000px;

        > * {
          margin-bottom: mobile-vw(44px);
          transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
          transform: translateY(40px) scale(0.95) translateZ(-10px);
          opacity: 0.65;
          will-change: transform, opacity;
          transform-style: preserve-3d;

          // Staggered entrance effect
          @for $i from 1 through 5 {
            &:nth-child(#{$i}) {
              transition-delay: $i * 0.05s;
            }
          }

          &.in-view {
            transform: translateY(0) scale(1) translateZ(0);
            opacity: 1;
            
            // When fully in view, add a subtle float animation
            animation: floatCard 6s ease-in-out infinite;
            
            // Stagger the float animation
            @for $i from 1 through 5 {
              &:nth-child(#{$i}) {
                animation-delay: $i * 0.3s;
              }
            }
          }
        }
      }
    }
  }
}

@keyframes floatCard {
  0% {
    transform: translateY(0) scale(1) translateZ(0);
  }
  50% {
    transform: translateY(-10px) scale(1.02) translateZ(0);
  }
  100% {
    transform: translateY(0) scale(1) translateZ(0);
  }
}
